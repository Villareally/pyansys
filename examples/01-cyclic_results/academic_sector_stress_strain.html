

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Stress and Strain from a Cyclic Modal Analysis &mdash; pyansys 0.44.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-dataframe.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Cyclic Model Visualization" href="sector_model.html" />
    <link rel="prev" title="Understanding Nodal Diameters from a Cyclic Model Analysis" href="academic_sector_nd.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> pyansys
          

          
          </a>

          
            
            
              <div class="version">
                0.44.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Interactive MAPDL Python Interface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mapdl/index.html">ANSYS MAPDL Interactive Control</a></li>
</ul>
<p class="caption"><span class="caption-text">ANSYS File Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive.html">Reading and Writing ANSYS Archive Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loading_results.html">Working with a ANSYS Result Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Archive and Result File Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loading_km.html">Working with a ANSYS Full File (full)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loading_emat.html">Working with a ANSYS Element Matrix File (.emat)</a></li>
</ul>
<p class="caption"><span class="caption-text">Example Gallery</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">MAPDL and Result Reader Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#loading-and-visualizing-result-files">Loading and Visualizing Result Files</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#cyclic-result-analysis">Cyclic Result Analysis</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="academic_sector_nd.html">Understanding Nodal Diameters from a Cyclic Model Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="academic_sector_nd.html#rotor-sector-order">Rotor Sector Order</a></li>
<li class="toctree-l3"><a class="reference internal" href="academic_sector_nd.html#understanding-harmonic-indexing">Understanding Harmonic Indexing</a></li>
<li class="toctree-l3"><a class="reference internal" href="academic_sector_nd.html#multi-bladed-sectors">Multi-Bladed Sectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="academic_sector_nd.html#plot-the-multi-bladed-sector">Plot the Multi-Bladed Sector</a></li>
<li class="toctree-l3"><a class="reference internal" href="academic_sector_nd.html#traveling-wave-animation">Traveling Wave Animation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Stress and Strain from a Cyclic Modal Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="sector_model.html">Cyclic Model Visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="sector_model.html#animate-mode-21">Animate Mode 21</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#ansys-mapdl-examples-using-pyansys">ANSYS MAPDL Examples Using Pyansys</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quality.html">Compute Cell Quality</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pyansys</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">MAPDL and Result Reader Examples</a> &raquo;</li>
        
      <li>Stress and Strain from a Cyclic Modal Analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/examples/01-cyclic_results/academic_sector_stress_strain.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-01-cyclic-results-academic-sector-stress-strain-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="stress-and-strain-from-a-cyclic-modal-analysis">
<span id="ref-academic-sector-stress-strain"></span><span id="sphx-glr-examples-01-cyclic-results-academic-sector-stress-strain-py"></span><h1>Stress and Strain from a Cyclic Modal Analysis<a class="headerlink" href="#stress-and-strain-from-a-cyclic-modal-analysis" title="Permalink to this headline">¶</a></h1>
<p>This example shows how to extract strain and stress from a cyclic
modal analysis.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># sphinx_gallery_thumbnail_number = 2</span>

<span class="kn">import</span> <span class="nn">pyansys</span>
</pre></div>
</div>
<p>Download the academic modal analysis file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rotor</span> <span class="o">=</span> <span class="n">pyansys</span><span class="o">.</span><span class="n">download_academic_rotor_result</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rotor</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>PyANSYS MAPDL Result
Units       : User Defined
Version     : 20.1
Cyclic      : True
Result Sets : 26
Nodes       : 786
Elements    : 524


Available Results:
EMS : Miscellaneous summable items (normally includes face pressures)
ENF : Nodal forces
ENS : Nodal stresses
ENG : Element energies and volume
EEL : Nodal elastic strains
ETH : Nodal thermal strains (includes swelling strains)
EUL : Element euler angles
EPT : Nodal temperatures
NSL : Nodal displacements
</pre></div>
</div>
<p>Plot nodal displacement for result <code class="docutils literal notranslate"><span class="pre">(2,</span> <span class="pre">2)</span></code>, which corresponds to
the load step and sub step in fortran indexing.  You could have also
used the python cumulative index 3.
rotor._positive_cyclic_dir = True</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">plot_nodal_displacement</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">cpos</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="academic sector stress strain" class="sphx-glr-single-img" src="../../_images/sphx_glr_academic_sector_stress_strain_001.png" />
<p>Extract the nodal elastic strain for the fourth cumulative result.
Because pyansys uses zero based indexing, we have to input “3” here.</p>
<p>Depending on the version of ANSYS, MAPDL either does or does not
write the duplicate sector for a result.  If MAPDL does not write a
duplicate sector, pyansys will search for a duplicate mode and use
that as the duplicate sector in order to be able to expand to the
full rotor.  Regardless of if there is or isn’t a duplicate sector,
only the master sector will be output.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Cyclic results extracted from pyansys may disagree with MAPDL
due to several issues/variations when extracting cyclic results
within MAPDL using <code class="docutils literal notranslate"><span class="pre">PowerGraphics</span></code>.  By default, MAPDL uses
<code class="docutils literal notranslate"><span class="pre">\EDGE,,,45</span></code>, which disables averaging across surface features
that exceed 45 degrees, but only writes one value when outputting
with <code class="docutils literal notranslate"><span class="pre">PRNSOL</span></code>.  On the other hand <code class="docutils literal notranslate"><span class="pre">pyansys</span></code> always averages,
so you will see differences between MAPDL and <code class="docutils literal notranslate"><span class="pre">pyansys</span></code> in
these cases.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nnum</span><span class="p">,</span> <span class="n">strain</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">nodal_elastic_strain</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">full_rotor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Plot the nodal elastic strain in the “Z” direction for result <code class="docutils literal notranslate"><span class="pre">(5,</span> <span class="pre">2)</span></code>.</p>
<p><cite>pyansys</cite> can plot the displacements while also plotting the
stress/strain.  Since modal results may or may not be normalized,
you will have to adjust the <code class="docutils literal notranslate"><span class="pre">displacement_factor</span></code> to scale up or
down the displacement to get a reasonable looking result.  Disable
plotting the displacement by setting <code class="docutils literal notranslate"><span class="pre">show_displacement=False</span></code>.</p>
<p>Additionally, you can also save screenshots by setting
<code class="docutils literal notranslate"><span class="pre">screenshot</span></code> to a filename with
<code class="docutils literal notranslate"><span class="pre">screenshot='elastic_strain.png'</span></code>.  If you wish to do this without
manually closing the plotting screen, set <code class="docutils literal notranslate"><span class="pre">off_screen=True</span></code>.  This
can help you automate saving screenshots.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">plot_nodal_elastic_strain</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="n">show_displacement</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                    <span class="n">displacement_factor</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
<img alt="academic sector stress strain" class="sphx-glr-single-img" src="../../_images/sphx_glr_academic_sector_stress_strain_002.png" />
<p>Plot the nodal elastic stress in the “Z” direction for this rotor.  Since this is plotting the other pair of modes for the 5th loadstep, the displacement of this response is 90 degrees out of phase of result <code class="docutils literal notranslate"><span class="pre">(5,</span> <span class="pre">2)</span></code></p>
<p>Available stress components are <code class="docutils literal notranslate"><span class="pre">['Y',</span> <span class="pre">'Z',</span> <span class="pre">'XY',</span> <span class="pre">'YZ',</span> <span class="pre">'XZ']</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">plot_nodal_stress</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="n">show_displacement</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">displacement_factor</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
<img alt="academic sector stress strain" class="sphx-glr-single-img" src="../../_images/sphx_glr_academic_sector_stress_strain_003.png" />
<p>You can also plot the nodal von mises principal stress.  This plot
shows the principal stress for result <code class="docutils literal notranslate"><span class="pre">(5,</span> <span class="pre">2)</span></code>.</p>
<p>Available stress components are <code class="docutils literal notranslate"><span class="pre">['S1',</span> <span class="pre">'S2',</span> <span class="pre">'S3',</span> <span class="pre">'SINT',</span> <span class="pre">'SEQV']</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">plot_principal_nodal_stress</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;SEQV&#39;</span><span class="p">,</span> <span class="n">show_displacement</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">displacement_factor</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
<img alt="academic sector stress strain" class="sphx-glr-single-img" src="../../_images/sphx_glr_academic_sector_stress_strain_004.png" />
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  2.569 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-01-cyclic-results-academic-sector-stress-strain-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/42d2d740296feb235d23bebeee90f437/academic_sector_stress_strain.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">academic_sector_stress_strain.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/1fae1e254b058f50fdfd4b8cb01e222f/academic_sector_stress_strain.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">academic_sector_stress_strain.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sector_model.html" class="btn btn-neutral float-right" title="Cyclic Model Visualization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="academic_sector_nd.html" class="btn btn-neutral float-left" title="Understanding Nodal Diameters from a Cyclic Model Analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Alex Kaszynski

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>