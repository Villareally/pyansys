

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command Naming Conventions and Rules &mdash; pyansys 0.44.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Translating Scripts" href="conversion.html" />
    <link rel="prev" title="Setting and Retreiving Parameters" href="parameters.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> pyansys
          

          
          </a>

          
            
            
              <div class="version">
                0.44.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Interactive MAPDL Python Interface</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ANSYS MAPDL Interactive Control</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="functions.html">ANSYS Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesh_geometry.html">Pythonic Data Access of Mesh and Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesh_geometry.html#the-mapdl-geometry-class">The MAPDL Geometry Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesh_geometry.html#the-mapdl-mesh-class">The MAPDL Mesh Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html">Interactive Plotting using VTK</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html#plotting-non-interactively-using-mapdl">Plotting Non-Interactively using MAPDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters.html">Setting and Retreiving Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters.html#parameters-description">Parameters Description</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Command Naming Conventions and Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conditional-statements-and-loops">Conditional Statements and Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="#warnings-and-errors">Warnings and Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prompts">Prompts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#apdl-command-logging">APDL Command Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interactive-breakpoint">Interactive Breakpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-a-batch">Running a Batch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chaining-commands-in-mapdl">Chaining Commands in MAPDL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sending-arrays-to-mapdl">Sending Arrays to MAPDL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mapdl-object-methods">MAPDL Object Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="conversion.html">Translating Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="conversion.html#convert-script-description">Convert Script Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="post.html">Pythonic Post-Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="post.html#post-processing-object-methods">Post Processing Object Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">ANSYS APDL Interactive Control Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#initial-setup-and-example">Initial Setup and Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#pyansys-mapdl-basics">PyANSYS MAPDL Basics</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">ANSYS File Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../archive.html">Reading and Writing ANSYS Archive Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loading_results.html">Working with a ANSYS Result Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Archive and Result File Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loading_km.html">Working with a ANSYS Full File (full)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loading_emat.html">Working with a ANSYS Element Matrix File (.emat)</a></li>
</ul>
<p class="caption"><span class="caption-text">Example Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">MAPDL and Result Reader Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quality.html">Compute Cell Quality</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyansys</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">ANSYS MAPDL Interactive Control</a> &raquo;</li>
        
      <li>Command Naming Conventions and Rules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/mapdl/mapdl.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="command-naming-conventions-and-rules">
<h1>Command Naming Conventions and Rules<a class="headerlink" href="#command-naming-conventions-and-rules" title="Permalink to this headline">¶</a></h1>
<p>When calling MAPDL commands as functions, each command has been
translated from its original MAPDL all CAPS format to a PEP8
compatible format.  For example, <code class="docutils literal notranslate"><span class="pre">ESEL</span></code> is now <code class="docutils literal notranslate"><span class="pre">esel</span></code>.
Additionally, MAPDL commands containing a <code class="docutils literal notranslate"><span class="pre">/</span></code> or <code class="docutils literal notranslate"><span class="pre">*</span></code> have had
those characters removed, unless this causes a conflict with an
existing name.  Most notable is <code class="docutils literal notranslate"><span class="pre">/SOLU</span></code> which would conflict with
<code class="docutils literal notranslate"><span class="pre">SOLU</span></code>.  Therefore, the <code class="docutils literal notranslate"><span class="pre">/SOLU</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">slashsolu</span></code>
to differentiate it from <code class="docutils literal notranslate"><span class="pre">solu</span></code>.  Out of the 1500 MAPDL commands,
about 15 start with <code class="docutils literal notranslate"><span class="pre">slash</span></code> and 8 with <code class="docutils literal notranslate"><span class="pre">star</span></code>.  Check the <code class="docutils literal notranslate"><span class="pre">MAPDL</span>
<span class="pre">Object</span> <span class="pre">Methods</span></code> reference below when necessary.</p>
<p>MAPDL commands that normally have an empty space, such as <code class="docutils literal notranslate"><span class="pre">ESEL,</span> <span class="pre">S,</span>
<span class="pre">TYPE,</span> <span class="pre">,</span> <span class="pre">1</span></code> should include an empty string when called by Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mapdl</span><span class="o">.</span><span class="n">esel</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>or these commands can be called using parameters:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mapdl</span><span class="o">.</span><span class="n">esel</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>None of these restrictions apply to commands run with <code class="docutils literal notranslate"><span class="pre">run</span></code>, and it
may be eaiser to run some of these commands (e.g. “/SOLU”):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;/SOLU&#39;</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
</pre></div>
</div>
<p>Some commands can only be run non-interactively from within in a
script.  <code class="docutils literal notranslate"><span class="pre">pyansys</span></code> gets around this restriction by writing the
commands to a temporary input file and then reading the input file.
To run a group of commands that must be run non-interactively, set the
<code class="docutils literal notranslate"><span class="pre">MAPDL</span></code> object to run a series of commands as an input file by using
<code class="docutils literal notranslate"><span class="pre">non_interactive</span></code> as in this example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">non_interactive</span><span class="p">:</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*VWRITE,LABEL(1),VALUE(1,1),VALUE(1,2),VALUE(1,3)&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;(1X,A8,&#39;   &#39;,F10.1,&#39;  &#39;,F10.1,&#39;   &#39;,1F5.3)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Also note that macros created within pyansys (rather than loaded from
a file) do not appear to run correctly.  For example, the macro
<code class="docutils literal notranslate"><span class="pre">DISP</span></code> created using the <code class="docutils literal notranslate"><span class="pre">*CREATE</span></code> command within APDL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>! SELECT NODES AT Z = 10 TO APPLY DISPLACEMENT
*CREATE,DISP
NSEL,R,LOC,Z,10
D,ALL,UZ,ARG1
NSEL,ALL
/OUT,SCRATCH
SOLVE
*END

! Call the function
*USE,DISP,-.032
*USE,DISP,-.05
*USE,DISP,-.1
</pre></div>
</div>
<p>Should be written as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">DISP</span><span class="p">(</span><span class="n">ARG1</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG2</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG3</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG4</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG5</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG6</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
         <span class="n">ARG7</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG8</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG9</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG10</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG11</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG12</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
         <span class="n">ARG13</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG14</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG15</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG16</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG17</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ARG18</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">nsel</span><span class="p">(</span><span class="s2">&quot;R&quot;</span><span class="p">,</span> <span class="s2">&quot;LOC&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>  <span class="c1">#SELECT NODES AT Z = 10 TO APPLY DISPLACEMENT</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="s2">&quot;ALL&quot;</span><span class="p">,</span> <span class="s2">&quot;UZ&quot;</span><span class="p">,</span> <span class="n">ARG1</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">nsel</span><span class="p">(</span><span class="s2">&quot;ALL&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;/OUT,SCRATCH&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>


<span class="n">DISP</span><span class="p">(</span><span class="o">-.</span><span class="mi">032</span><span class="p">)</span>
<span class="n">DISP</span><span class="p">(</span><span class="o">-.</span><span class="mi">05</span><span class="p">)</span>
<span class="n">DISP</span><span class="p">(</span><span class="o">-.</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>If you have an existing input file with a macro, it can be converted
using the <code class="docutils literal notranslate"><span class="pre">convert_script</span></code> function and setting
<code class="docutils literal notranslate"><span class="pre">macros_as_functions=True</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pyansys</span><span class="o">.</span><span class="n">convert_script</span><span class="p">(</span><span class="n">apdl_inputfile</span><span class="p">,</span> <span class="n">pyscript</span><span class="p">,</span> <span class="n">macros_as_functions</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>See the <code class="docutils literal notranslate"><span class="pre">vm7.dat</span></code> example in the APDL Conversion Examples page.</p>
</div>
<div class="section" id="conditional-statements-and-loops">
<h1>Conditional Statements and Loops<a class="headerlink" href="#conditional-statements-and-loops" title="Permalink to this headline">¶</a></h1>
<p>APDL conditional statements such as <code class="docutils literal notranslate"><span class="pre">*IF</span></code> must be either implemented
pythonically or using <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">mapdl.non_interactive:</span></code>.  See the
<code class="docutils literal notranslate"><span class="pre">vm8.dat</span></code> example in the APDL Conversion Examples page.  For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>*IF,ARG1,EQ,0,THEN
  *GET,ARG4,NX,ARG2     ! RETRIEVE COORDINATE LOCATIONS OF BOTH NODES
  *GET,ARG5,NY,ARG2
  *GET,ARG6,NZ,ARG2
  *GET,ARG7,NX,ARG3
  *GET,ARG8,NY,ARG3
  *GET,ARG9,NZ,ARG3
*ELSE
  *GET,ARG4,KX,ARG2     ! RETRIEVE COORDINATE LOCATIONS OF BOTH KEYPOINTS
  *GET,ARG5,KY,ARG2
  *GET,ARG6,KZ,ARG2
  *GET,ARG7,KX,ARG3
  *GET,ARG8,KY,ARG3
  *GET,ARG9,KZ,ARG3
*ENDIF
</pre></div>
</div>
<p>Should be implemented as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">non_interactive</span><span class="p">:</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*IF,ARG1,EQ,0,THEN&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG4,NX,ARG2     &quot;</span><span class="p">)</span>  <span class="c1"># RETRIEVE COORDINATE LOCATIONS OF BOTH NODES</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG5,NY,ARG2&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG6,NZ,ARG2&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG7,NX,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG8,NY,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG9,NZ,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*ELSE&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG4,KX,ARG2     &quot;</span><span class="p">)</span>  <span class="c1"># RETRIEVE COORDINATE LOCATIONS OF BOTH KEYPOINTS</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG5,KY,ARG2&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG6,KZ,ARG2&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG7,KX,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG8,KY,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG9,KZ,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*ENDIF&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or pythonically as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># MAPDL parameters can be obtained using load_parameters</span>
<span class="k">if</span> <span class="n">ARG1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG4,NX,ARG2     &quot;</span><span class="p">)</span>  <span class="c1"># RETRIEVE COORDINATE LOCATIONS OF BOTH NODES</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG5,NY,ARG2&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG6,NZ,ARG2&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG7,NX,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG8,NY,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG9,NZ,ARG3&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG4,KX,ARG2     &quot;</span><span class="p">)</span>  <span class="c1"># RETRIEVE COORDINATE LOCATIONS OF BOTH KEYPOINTS</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG5,KY,ARG2&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG6,KZ,ARG2&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG7,KX,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG8,KY,ARG3&quot;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*GET,ARG9,KZ,ARG3&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>APDL loops using <code class="docutils literal notranslate"><span class="pre">*DO</span></code> or <code class="docutils literal notranslate"><span class="pre">*DOWHILE</span></code> should also be implemetned using <code class="docutils literal notranslate"><span class="pre">mapdl.non_interactive</span></code> or pythonically.</p>
</div>
<div class="section" id="warnings-and-errors">
<h1>Warnings and Errors<a class="headerlink" href="#warnings-and-errors" title="Permalink to this headline">¶</a></h1>
<p>Errors are handled pythonically.  For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="k">except</span><span class="p">:</span>
    <span class="c1"># do something else with MAPDL</span>
</pre></div>
</div>
<p>Commands that are ignored within MAPDL are flagged as errors.  This is different than MAPDL’s default behavior where commands that are ignored are treated as warnings.  For example, in <code class="docutils literal notranslate"><span class="pre">pyansys</span></code> running a command in the wrong session raises an error:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">k</span><span class="p">()</span>

<span class="go">Exception:</span>
<span class="go">K, , , ,</span>

<span class="go"> *** WARNING ***                         CP =       0.307   TIME= 11:05:01</span>
<span class="go"> K is not a recognized BEGIN command, abbreviation, or macro.  This</span>
<span class="go"> command will be ignored.</span>
</pre></div>
</div>
<p>You can change this behavior so ignored commands can be logged as warnings not raised as an exception by setting:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mapdl</span><span class="o">.</span><span class="n">allow_ignore</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">k</span><span class="p">()</span>  <span class="c1"># error ignored</span>
</pre></div>
</div>
</div>
<div class="section" id="prompts">
<h1>Prompts<a class="headerlink" href="#prompts" title="Permalink to this headline">¶</a></h1>
<p>Prompts from MAPDL automatically continued as if MAPDL is in batch mode.  Commands requiring user input, such as <code class="docutils literal notranslate"><span class="pre">*VWRITE</span></code> will fail and must be entered in non-interactively.</p>
<div class="section" id="apdl-command-logging">
<h2>APDL Command Logging<a class="headerlink" href="#apdl-command-logging" title="Permalink to this headline">¶</a></h2>
<p>While <code class="docutils literal notranslate"><span class="pre">pyansys</span></code> is designed to make it easier to control an APDL session by calling it using Python, it may be necessary to call MAPDL again using an input file generated from a pyansys script.  This is automatically enabled with the <code class="docutils literal notranslate"><span class="pre">log_apdl='apdl.log'</span></code> parameter.  Enabling this parameter will cause <code class="docutils literal notranslate"><span class="pre">pyansys</span></code> to write each command run from a <code class="docutils literal notranslate"><span class="pre">Mapdl</span></code> object into a log file named <code class="docutils literal notranslate"><span class="pre">&quot;apdl.log&quot;</span></code> in the MAPDL working directory of the active <code class="docutils literal notranslate"><span class="pre">mapdl</span></code> object.  For example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyansys</span>

<span class="n">ansys</span> <span class="o">=</span> <span class="n">pyansys</span><span class="o">.</span><span class="n">launch_mapdl</span><span class="p">(</span><span class="n">log_apdl</span><span class="o">=</span><span class="s1">&#39;apdl.log&#39;</span><span class="p">)</span>
<span class="n">ansys</span><span class="o">.</span><span class="n">prep7</span><span class="p">()</span>
<span class="n">ansys</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ansys</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ansys</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ansys</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Will write the following to <code class="docutils literal notranslate"><span class="pre">&quot;apdl.log&quot;</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>! APDL script generated using pyansys 0.40.1
/PREP7,
K,1,0,0,0
K,2,1,0,0
K,3,1,1,0
K,4,0,1,0
</pre></div>
</div>
<p>This allows for the translation of a Python script to an APDL script
except for conditional statements, loops, or functions.</p>
</div>
<div class="section" id="interactive-breakpoint">
<h2>Interactive Breakpoint<a class="headerlink" href="#interactive-breakpoint" title="Permalink to this headline">¶</a></h2>
<p>In most circumstances it is necessary or preferable to open up the
MAPDL GUI.  The <code class="docutils literal notranslate"><span class="pre">pyansys</span></code> module has an <code class="docutils literal notranslate"><span class="pre">open_gui</span></code> method that
allows you to seamlessly open up the GUI without losing work or
having to restart your session.  For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyansys</span>

<span class="c1"># run ansys with interactive plotting enabled</span>
<span class="n">mapdl</span> <span class="o">=</span> <span class="n">pyansys</span><span class="o">.</span><span class="n">launch_mapdl</span><span class="p">()</span>

<span class="c1"># create a square area using keypoints</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">prep7</span><span class="p">()</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">l</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">l</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">l</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">l</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">al</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1"># open up the gui</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">open_gui</span><span class="p">()</span>

<span class="c1"># it resumes where you left off...</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">et</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;MESH200&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">amesh</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">eplot</span><span class="p">()</span>
</pre></div>
</div>
<p>This approach avoids the hassle of having to switch back and forth
between an interactive session and a scripting session.  Instead, you
can have one scripting session and open up a GUI from the scripting
session without losing work or progress.  Additionally, none of the
changes made in the GUI will affect the script.  You can experiment in
the GUI and the script will be left unaffected.</p>
</div>
<div class="section" id="running-a-batch">
<h2>Running a Batch<a class="headerlink" href="#running-a-batch" title="Permalink to this headline">¶</a></h2>
<p>Instead of running an ANSYS batch by calling ANSYS with an input file,
you can instead define a function that runs MAPDL.  This example runs
a mesh convergence study based on the maximum stress of a cylinder
with torsional loading.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pyansys</span>

<span class="k">def</span> <span class="nf">cylinder_batch</span><span class="p">(</span><span class="n">elemsize</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Report the maximum von Mises stress of a Cantilever supported cylinder&quot;&quot;&quot;</span>

    <span class="c1"># clear</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

    <span class="c1"># cylinder parameters</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">h_tip</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">height</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">force</span> <span class="o">=</span> <span class="mi">100</span><span class="o">/</span><span class="n">radius</span>
    <span class="n">pressure</span> <span class="o">=</span> <span class="n">force</span><span class="o">/</span><span class="p">(</span><span class="n">h_tip</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">radius</span><span class="p">)</span>

    <span class="n">mapdl</span><span class="o">.</span><span class="n">prep7</span><span class="p">()</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">et</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">186</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">et</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">154</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">r</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Aluminum properties (or something)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">mp</span><span class="p">(</span><span class="s1">&#39;ex&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">10e6</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">mp</span><span class="p">(</span><span class="s1">&#39;nuxy&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">mp</span><span class="p">(</span><span class="s1">&#39;dens&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="o">/</span><span class="mf">386.1</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">mp</span><span class="p">(</span><span class="s1">&#39;dens&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Simple cylinder</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">mapdl</span><span class="o">.</span><span class="n">cylind</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mi">90</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>

    <span class="n">mapdl</span><span class="o">.</span><span class="n">nummrg</span><span class="p">(</span><span class="s1">&#39;kp&#39;</span><span class="p">)</span>

    <span class="c1"># mesh cylinder</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">lsel</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;loc&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">lsel</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;loc&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">lsel</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;loc&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">height</span> <span class="o">-</span> <span class="n">h_tip</span><span class="p">)</span>
    <span class="c1"># mapdl.lesize(&#39;all&#39;, elemsize*2)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">mshape</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">mshkey</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">esize</span><span class="p">(</span><span class="n">elemsize</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">allsel</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">vsweep</span><span class="p">(</span><span class="s1">&#39;ALL&#39;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">csys</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">asel</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;loc&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">height</span> <span class="o">-</span> <span class="n">h_tip</span> <span class="o">+</span> <span class="mf">0.0001</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">asel</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;loc&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">local</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">csys</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">aatt</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">amesh</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
        <span class="n">mapdl</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">mapdl</span><span class="o">.</span><span class="n">eplot</span><span class="p">()</span>

    <span class="c1"># new solution</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">slashsolu</span><span class="p">()</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">antype</span><span class="p">(</span><span class="s1">&#39;static&#39;</span><span class="p">,</span> <span class="s1">&#39;new&#39;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">eqslv</span><span class="p">(</span><span class="s1">&#39;pcg&#39;</span><span class="p">,</span> <span class="mf">1e-8</span><span class="p">)</span>

    <span class="c1"># Apply tangential pressure</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">esel</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">sfe</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pres&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">pressure</span><span class="p">)</span>

    <span class="c1"># Constrain bottom of cylinder/rod</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">asel</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;loc&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">nsla</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">mapdl</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">allsel</span><span class="p">()</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">psf</span><span class="p">(</span><span class="s1">&#39;pres&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">pbc</span><span class="p">(</span><span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>

    <span class="c1"># access results using ANSYS object</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">result</span>

    <span class="c1"># to access the results you could have run:</span>
    <span class="c1"># resultfile = os.path.join(mapdl.path, &#39;%s.rst&#39; % mapdl.jobname)</span>
    <span class="c1"># result = pyansys.read_binary(result file)</span>

    <span class="c1"># Get maximum von Mises stress at result 1</span>
    <span class="c1"># Index 0 as it&#39;s zero based indexing</span>
    <span class="n">nodenum</span><span class="p">,</span> <span class="n">stress</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">principal_nodal_stress</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># von Mises stress is the last column</span>
    <span class="c1"># must be nanmax as the shell element stress is not recorded</span>
    <span class="n">maxstress</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">stress</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>

    <span class="c1"># return number of nodes and max stress</span>
    <span class="k">return</span> <span class="n">nodenum</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">maxstress</span>


<span class="c1"># initialize ANSYS</span>
<span class="n">mapdl</span> <span class="o">=</span> <span class="n">pyansys</span><span class="o">.</span><span class="n">launch_mapdl</span><span class="p">(</span><span class="n">override</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">loglevel</span><span class="o">=</span><span class="s1">&#39;ERROR&#39;</span><span class="p">)</span>

<span class="n">result_summ</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">elemsize</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mi">15</span><span class="p">):</span>
    <span class="c1"># run the batch and report the results</span>
    <span class="n">nnode</span><span class="p">,</span> <span class="n">maxstress</span> <span class="o">=</span> <span class="n">cylinder_batch</span><span class="p">(</span><span class="n">elemsize</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">result_summ</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">nnode</span><span class="p">,</span> <span class="n">maxstress</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Element size </span><span class="si">%f</span><span class="s1">: </span><span class="si">%6d</span><span class="s1"> nodes and maximum vom Mises stress </span><span class="si">%f</span><span class="s1">&#39;</span>
          <span class="o">%</span> <span class="p">(</span><span class="n">elemsize</span><span class="p">,</span> <span class="n">nnode</span><span class="p">,</span> <span class="n">maxstress</span><span class="p">))</span>

<span class="c1"># Exit ANSYS</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
<p>This is the result from the script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Element</span> <span class="n">size</span> <span class="mf">0.600000</span><span class="p">:</span>   <span class="mi">9657</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">142.623505</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.567857</span><span class="p">:</span>  <span class="mi">10213</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">142.697800</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.535714</span><span class="p">:</span>  <span class="mi">10769</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">142.766510</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.503571</span><span class="p">:</span>  <span class="mi">14177</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">142.585388</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.471429</span><span class="p">:</span>  <span class="mi">18371</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">142.825684</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.439286</span><span class="p">:</span>  <span class="mi">19724</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">142.841202</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.407143</span><span class="p">:</span>  <span class="mi">21412</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">142.945984</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.375000</span><span class="p">:</span>  <span class="mi">33502</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">142.913437</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.342857</span><span class="p">:</span>  <span class="mi">37877</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">143.033401</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.310714</span><span class="p">:</span>  <span class="mi">59432</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">143.328842</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.278571</span><span class="p">:</span>  <span class="mi">69106</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">143.176086</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.246429</span><span class="p">:</span> <span class="mi">110547</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">143.499329</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.214286</span><span class="p">:</span> <span class="mi">142496</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">143.559128</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.182143</span><span class="p">:</span> <span class="mi">211966</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">143.953430</span>
<span class="n">Element</span> <span class="n">size</span> <span class="mf">0.150000</span><span class="p">:</span> <span class="mi">412324</span> <span class="n">nodes</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">vom</span> <span class="n">Mises</span> <span class="n">stress</span> <span class="mf">144.275406</span>
</pre></div>
</div>
</div>
<div class="section" id="chaining-commands-in-mapdl">
<h2>Chaining Commands in MAPDL<a class="headerlink" href="#chaining-commands-in-mapdl" title="Permalink to this headline">¶</a></h2>
<p>MAPDL permits several commands on one line by using the separation
character <code class="docutils literal notranslate"><span class="pre">&quot;$&quot;</span></code>.  This can be utilized within <code class="docutils literal notranslate"><span class="pre">pyansys</span></code> to
effectively chain several commands together rather and send them to
MAPDL for execution rather than executing them individually.  This can
be helpful when you need to execute thousands of commands in a python
loop and don’t need the individual results for each command.  For
example, if you wish to create a 1000 keypoints along the X axis you
would run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">xloc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xloc</span><span class="p">:</span>
    <span class="n">mapdl</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>However, since each command executes individually and returns a
response, it is much faster to send the commands to be executed by
MAPDL in groups and have <code class="docutils literal notranslate"><span class="pre">pyansys</span></code> handle grouping the commands by
running <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">mmapdl.chain_commands</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">xloc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="k">with</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">chain_commands</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xloc</span><span class="p">:</span>
        <span class="n">mapdl</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>The execution time on this generally 4 to 10 times faster than running each command
individually.</p>
</div>
<div class="section" id="sending-arrays-to-mapdl">
<h2>Sending Arrays to MAPDL<a class="headerlink" href="#sending-arrays-to-mapdl" title="Permalink to this headline">¶</a></h2>
<p>You can send <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays or Python lists directly to MAPDL using
<code class="docutils literal notranslate"><span class="pre">load_array</span></code>.  This is far more efficient than individually sending
parameters to MAPDL through python or MAPDL.  It uses <code class="docutils literal notranslate"><span class="pre">*VREAD</span></code>
behind the scenes and will be replaced with a faster interface in the
future.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyansys</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">mapdl</span> <span class="o">=</span> <span class="n">pyansys</span><span class="o">.</span><span class="n">launch_mapdl</span><span class="p">()</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">load_array</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="s1">&#39;MYARR&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Verify the data has been propertly loaded to MAPDL by accessing the
first element.  Note that MAPDL uses fortran (1) based indexing.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">read_float_parameter</span><span class="p">(</span><span class="s1">&#39;MYARR(1, 1)&#39;</span><span class="p">)</span>
<span class="go">2020-07-03 21:49:54,387 [INFO] pyansys.mapdl: MYARR(1, 1) = MYARR(1, 1)</span>

<span class="go">PARAMETER MYARR(1,1) =    0.7960742456</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">0.7960742456194109</span>
</pre></div>
</div>
</div>
<div class="section" id="mapdl-object-methods">
<h2>MAPDL Object Methods<a class="headerlink" href="#mapdl-object-methods" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="pyansys.mapdl._MapdlCore">
<em class="property">class </em><code class="sig-prename descclassname">pyansys.mapdl.</code><code class="sig-name descname">_MapdlCore</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">loglevel</span><span class="o">=</span><span class="default_value">'DEBUG'</span></em>, <em class="sig-param"><span class="n">use_vtk</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">log_apdl</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">local</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">start_parm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains methods in common between all Mapdl subclasses</p>
<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.add_file_handler">
<code class="sig-name descname">add_file_handler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">append</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">'DEBUG'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.add_file_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a file handler to the mapdl log.  This allows you to
redirect the APDL logging to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em>) – Filename of the log.</p></li>
<li><p><strong>append</strong> (<em>bool</em>) – When <code class="docutils literal notranslate"><span class="pre">True</span></code>, appends to an existing log file.  When
<code class="docutils literal notranslate"><span class="pre">False</span></code>, overwrites the log file if it already exists.</p></li>
<li><p><strong>level</strong> (<em>str</em>) – Log level.  Must be one of: <code class="docutils literal notranslate"><span class="pre">'DEBUG',</span> <span class="pre">'INFO',</span> <span class="pre">'WARNING',</span> <span class="pre">'ERROR'</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Start writing the log to a new file named “mapdl.log”</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">add_file_handler</span><span class="p">(</span><span class="s1">&#39;mapdl.log&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.allow_ignore">
<em class="property">property </em><code class="sig-name descname">allow_ignore</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.allow_ignore" title="Permalink to this definition">¶</a></dt>
<dd><p>Invalid commands will be ignored rather than exceptions</p>
<p>A command executed in the wrong processor will raise an
exception when <code class="docutils literal notranslate"><span class="pre">allow_ignore=False</span></code>.  This is the default
behavior.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">post1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">k</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">Exception:  K is not a recognized POST1 command, abbreviation, or macro.</span>
</pre></div>
</div>
<p>Ignore these messages by setting allow_ignore=True</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">allow_ignore</span> <span class="o">=</span> <span class="kc">True</span>
<span class="go">2020-06-08 21:39:58,094 [INFO] pyansys.mapdl: K is not a</span>
<span class="go">recognized POST1 command, abbreviation, or macro.  This</span>
<span class="go">command will be ignored.</span>
</pre></div>
</div>
<p><strong>* WARNING *</strong> CP = 0.372 TIME= 21:39:58
K is not a recognized POST1 command, abbreviation, or macro.
This command will be ignored.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.aplot">
<code class="sig-name descname">aplot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">na1</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">na2</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">ninc</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">degen</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">vtk</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">quality</span><span class="o">=</span><span class="default_value">7</span></em>, <em class="sig-param"><span class="n">show_area_numbering</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_line_numbering</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">color_areas</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_lines</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.aplot" title="Permalink to this definition">¶</a></dt>
<dd><p>APDL Command: APLOT</p>
<p>Displays the selected areas from <code class="docutils literal notranslate"><span class="pre">na1</span></code> to <code class="docutils literal notranslate"><span class="pre">na2</span></code> in steps
of <code class="docutils literal notranslate"><span class="pre">ninc</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>na1</strong> (<em>int</em><em>, </em><em>optional</em>) – Minimum area to display.</p></li>
<li><p><strong>na2</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum area to display</p></li>
<li><p><strong>ninc</strong> (<em>int</em><em>, </em><em>optional</em>) – Increment between minimum and maximum area.</p></li>
<li><p><strong>str</strong><strong>, </strong><strong>optional</strong> (<em>degen</em><em>,</em>) – Degeneracy marker.  This option is ignored when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>scale</strong> – Scale factor for the size of the degeneracy-marker star.
The scale is the size in window space (-1 to 1 in both
directions) (defaults to .075).  This option is ignored
when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>vtk</strong> (<em>bool</em><em>, </em><em>optional</em>) – Plot the currently selected areas using <code class="docutils literal notranslate"><span class="pre">pyvista</span></code>.  As
this creates a temporary surface mesh, this may have a
long execution time for large meshes.</p></li>
<li><p><strong>quality</strong> (<em>int</em><em>, </em><em>optional</em>) – Quality of the mesh to display.  Varies between 1 (worst)
to 10 (best) when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>show_area_numbering</strong> (<em>bool</em><em>, </em><em>optional</em>) – Display area numbers when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>show_line_numbering</strong> (<em>bool</em><em>, </em><em>optional</em>) – Display line numbers when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>color_areas</strong> (<em>bool</em><em>, </em><em>optional</em>) – Randomly color areas when <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>show_lines</strong> (<em>bool</em><em>, </em><em>optional</em>) – Plot lines and areas.  Change the thickness of the lines
with <code class="docutils literal notranslate"><span class="pre">line_width=</span></code></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Plot areas between 1 and 4 in increments of 2.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">block</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">aplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Plot all areas and randomly color the areas.  Label center of
areas by their number.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">aplot</span><span class="p">(</span><span class="n">show_area_numbering</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color_areas</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.chain_commands">
<em class="property">property </em><code class="sig-name descname">chain_commands</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.chain_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Chain several mapdl commands.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>APDL Command: /CLEAR</p>
<p>Clears the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>read</strong> – <p>File read option:</p>
<p>START - Reread startXXX.ans file.</p>
<p>NOSTART - Do not reread startXXX.ans file (default).</p>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Resets the ANSYS database to the conditions at the beginning of the
problem.  Sets the import and Boolean options back to the ANSYS
default. All items are deleted from the database and memory values are
set to zero for items derived from database information.  All files are
left intact.  This command is useful between multiple analyses in the
same run, or between passes of a multipass analysis (such as between
the substructure generation, use, and expansion passes).  Should not be
used in a do-loop since loop counters will be reset.  The start162.ans
file will be reread (by default) after the database is cleared, unless
Read is set to NOSTART.  Additional commands cannot be stacked (using
the $ separator) on the same line as the /CLEAR command.</p>
<p>Use care when placing the /CLEAR command within branching constructs
(for example, those employing *DO or *IF commands).  The command
deletes all parameters including the looping parameter for do-loops.
(You can preserve your iteration parameter by issuing a PARSAV command
prior to the /CLEAR command, then following the /CLEAR command with a
PARRES command.)</p>
<p>/CLEAR resets the jobname to match the currently open session .LOG and
.ERR files. This will return the jobname to its original value, or to
the most recent value specified on /FILNAME with KEY = 1.</p>
<p>This command is valid only at the Begin level.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.eplot">
<code class="sig-name descname">eplot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">show_node_numbering</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">vtk</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.eplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the currently selected elements.</p>
<p>APDL Command: EPLOT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vtk</strong> (<em>bool</em><em>, </em><em>optional</em>) – Plot the currently selected elements using <code class="docutils literal notranslate"><span class="pre">pyvista</span></code>.
Defaults to current <code class="docutils literal notranslate"><span class="pre">use_vtk</span></code> setting.</p></li>
<li><p><strong>show_node_numbering</strong> (<em>bool</em><em>, </em><em>optional</em>) – Plot the node numbers of surface nodes.</p></li>
<li><p><strong>**kwargs</strong> – See <code class="docutils literal notranslate"><span class="pre">help(pyansys.plotter.general_plotter)</span></code> for more
keyword arguments related to visualizing using <code class="docutils literal notranslate"><span class="pre">vtk</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">prep7</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">block</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">et</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">186</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">esize</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">vmesh</span><span class="p">(</span><span class="s1">&#39;ALL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">vgen</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">eplot</span><span class="p">(</span><span class="n">show_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">smooth_shading</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="go">                show_node_numbering=True)</span>
</pre></div>
</div>
<p>Save a screenshot to disk without showing the plot</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">eplot</span><span class="p">(</span><span class="n">background</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">show_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">smooth_shading</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="go">                window_size=[1920, 1080], screenshot=&#39;screenshot.png&#39;,</span>
<span class="go">                off_screen=True)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.exit">
<code class="sig-name descname">exit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit from MAPDL</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.geometry">
<em class="property">property </em><code class="sig-name descname">geometry</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Geometry (CAD) information.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">'__floatparameter__'</span></em>, <em class="sig-param"><span class="n">entity</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">entnum</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">item1</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">it1num</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">item2</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">it2num</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>APDL Command: *GET</p>
<p>Retrieves a value and stores it as a scalar parameter or part
of an array parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the resulting parameter. See *SET for name
restrictions.</p></li>
<li><p><strong>entity</strong> – Entity keyword. Valid keywords are NODE, ELEM, KP, LINE, AREA,
VOLU, PDS, etc., as shown for Entity = in the tables below.</p></li>
<li><p><strong>entnum</strong> – The number or label for the entity (as shown for ENTNUM = in the
tables below). In some cases, a zero (or blank) ENTNUM represents
all entities of the set.</p></li>
<li><p><strong>item1</strong> – The name of a particular item for the given entity. Valid items are
as shown in the Item1 columns of the tables below.</p></li>
<li><p><strong>it1num</strong> – The number (or label) for the specified Item1 (if any). Valid
IT1NUM values are as shown in the IT1NUM columns of the tables
below. Some Item1 labels do not require an IT1NUM value.</p></li>
<li><p><strong>it2num</strong> (<em>item2</em><em>,</em>) – A second set of item labels and numbers to further qualify the item
for which data are to be retrieved. Most items do not require this
level of information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>par</strong> – Floating point value of the parameter.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Retreive the number of nodes</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;val&#39;</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span>
<span class="go">3003</span>
</pre></div>
</div>
<p>Retreive the number of nodes using keywords.  Note that the
parameter name is optional.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">entity</span><span class="o">=</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="n">item1</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span>
<span class="go">3003</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>GET retrieves a value for a specified item and stores the value as a
scalar parameter, or as a value in a user-named array parameter. An
item is identified by various keyword, label, and number combinations.
Usage is similar to the SET command except that the parameter values
are retrieved from previously input or calculated results. For example,
GET,A,ELEM,5,CENT,X returns the centroid x-location of element 5 and
stores the result as parameter A. GET command operations, along with
the associated Get functions return values in the active coordinate
system unless stated otherwise. A Get function is an alternative in-
line function that can be used to retrieve a value instead of the GET
command (see Using In-line Get Functions for more information).</p>
<p>Both GET and VGET retrieve information from the active data stored in
memory. The database is often the source, and sometimes the information
is retrieved from common memory blocks that the program uses to
manipulate information. Although POST1 and POST26 operations use a
.rst file, GET data is accessed from the database or from the common
blocks. Get operations do not access the .rst file directly. For
repeated gets of sequential items, such as from a series of elements,
see the VGET command.</p>
<p>Most items are stored in the database after they are calculated and are
available anytime thereafter. Items are grouped according to where they
are usually first defined or calculated. Preprocessing data will often
not reflect the calculated values generated from section data. Do not
use GET to obtain data from elements that use calculated section data,
such as beams or shells. Most of the general items listed below are
available from all modules. Each of the sections for accessing GET
parameters are shown in the following order:</p>
<p>GET General Entity Items</p>
<p>GET Preprocessing Entity Items</p>
<p>GET Solution Entity Items</p>
<p>GET Postprocessing Entity Items</p>
<p>GET Probabilistic Design Entity Items</p>
<p>The GET command is valid in any processor.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.get_value">
<code class="sig-name descname">get_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entity</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">entnum</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">item1</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">it1num</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">item2</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">it2num</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the *GET command and returns a Python value.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">help(mapdl.starget)</span></code> for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> – Entity keyword. Valid keywords are NODE, ELEM, KP, LINE, AREA,
VOLU, PDS, etc., as shown for Entity = in the tables below.</p></li>
<li><p><strong>entnum</strong> – The number or label for the entity (as shown for ENTNUM = in the
tables below). In some cases, a zero (or blank) ENTNUM represents
all entities of the set.</p></li>
<li><p><strong>item1</strong> – The name of a particular item for the given entity. Valid items are
as shown in the Item1 columns of the tables below.</p></li>
<li><p><strong>it1num</strong> – The number (or label) for the specified Item1 (if any). Valid
IT1NUM values are as shown in the IT1NUM columns of the tables
below. Some Item1 labels do not require an IT1NUM value.</p></li>
<li><p><strong>it2num</strong> (<em>item2</em><em>,</em>) – A second set of item labels and numbers to further qualify the item
for which data are to be retrieved. Most items do not require this
level of information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>par</strong> – Floating point value of the parameter.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Retreive the number of nodes.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">ansys</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span>
<span class="go">3003</span>
</pre></div>
</div>
<p>Retreive the number of nodes using keywords.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">ansys</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">entity</span><span class="o">=</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="n">item1</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span>
<span class="go">3003</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.jobname">
<em class="property">property </em><code class="sig-name descname">jobname</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.jobname" title="Permalink to this definition">¶</a></dt>
<dd><p>MAPDL job name.</p>
<p>This is requested from the active mapdl instance.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.kplot">
<code class="sig-name descname">kplot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">np1</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">np2</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">ninc</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">lab</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">vtk</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">show_keypoint_numbering</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.kplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the selected keypoints.</p>
<p>APDL Command: KPLOT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>np2</strong><strong>, </strong><strong>ninc</strong> (<em>np1</em><em>,</em>) – Display keypoints from NP1 to NP2 (defaults to NP1) in
steps of NINC (defaults to 1).  If NP1 = ALL (default),
NP2 and NINC are ignored and all selected keypoints [KSEL]
are displayed.</p></li>
<li><p><strong>lab</strong> – <p>Determines what keypoints are plotted (one of the following):</p>
<p>(blank) - Plots all keypoints.</p>
<p>HPT - Plots only those keypoints that are hard points.</p>
</p></li>
<li><p><strong>vtk</strong> (<em>bool</em><em>, </em><em>optional</em>) – Plot the currently selected lines using <code class="docutils literal notranslate"><span class="pre">pyvista</span></code>.</p></li>
<li><p><strong>show_keypoint_numbering</strong> (<em>bool</em><em>, </em><em>optional</em>) – Display keypoint numbers when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This command is valid in any processor.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.last_response">
<em class="property">property </em><code class="sig-name descname">last_response</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.last_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the last response from MAPDL.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">last_response</span><span class="p">()</span>
<span class="go">&#39;KEYPOINT      1   X,Y,Z=   1.00000       1.00000       1.00000&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.load_parameters">
<code class="sig-name descname">load_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.load_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Depreciated in favor of <code class="docutils literal notranslate"><span class="pre">mapdl.parameters</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.load_table">
<code class="sig-name descname">load_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">var1</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">var2</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">var3</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.load_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a table from Python to MAPDL</p>
<p>Uses *TREAD to transfer the table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – An alphanumeric name used to identify this table.  Name
may be up to 32 characters, beginning with a letter and
containing only letters, numbers, and underscores.
Examples: <code class="docutils literal notranslate"><span class="pre">&quot;ABC&quot;</span> <span class="pre">&quot;A3X&quot;</span> <span class="pre">&quot;TOP_END&quot;</span></code>.</p></li>
<li><p><strong>array</strong> (<em>np.ndarray</em><em> or </em><em>List</em>) – List as a table or <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array.</p></li>
<li><p><strong>var1</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>A primary variable (listed below) or can be an independent
parameter. If specifying an independent parameter, then
you must define an additional table for the independent
parameter. The additional table must have the same name as
the independent parameter and may be a function of one or
more primary variables or another independent
parameter. All independent parameters must relate to a
primary variable.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;TIME&quot;</span></code>: Time</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;FREQ&quot;</span></code>: Frequency</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;X&quot;</span></code>: X-coordinate location</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Y&quot;</span></code>: Y-coordinate location</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Z&quot;</span></code>: Z-coordinate location</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;TEMP&quot;</span></code>: Temperature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;VELOCITY&quot;</span></code>: Velocity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;1&quot;</span></code>]: Pressure        PRESSURE [</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;GAP&quot;</span></code>: Geometric gap/penetration</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;SECTOR&quot;</span></code>: Cyclic sector number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;OMEGS&quot;</span></code>: Amplitude of the rotational velocity vector</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ECCENT&quot;</span></code>: Eccentricity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;THETA&quot;</span></code>: Phase shift</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ELEM&quot;</span></code>: Element number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;NODE&quot;</span></code>: Node number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;CONC&quot;</span></code>: Concentration</p></li>
</ul>
</p></li>
<li><p><strong>var2</strong> (<em>str</em><em>, </em><em>optional</em>) – See <code class="docutils literal notranslate"><span class="pre">var1</span></code></p></li>
<li><p><strong>var3</strong> (<em>str</em><em>, </em><em>optional</em>) – See <code class="docutils literal notranslate"><span class="pre">var1</span></code></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_conv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">],</span>
<span class="go">                        [120, 0.001],</span>
<span class="go">                        [130, 0.005],</span>
<span class="go">                        [700, 0.005],</span>
<span class="go">                        [710, 0.002],</span>
<span class="go">                        [1000, 0.002]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">load_table</span><span class="p">(</span><span class="s1">&#39;MY_TABLE&#39;</span><span class="p">,</span> <span class="n">my_conv</span><span class="p">,</span> <span class="s1">&#39;TIME&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;MY_TABLE&#39;</span><span class="p">]</span>
<span class="go">array([0.0001, 0.0001, 0.0005, 0.0005, 0.0002, 0.0002])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.lplot">
<code class="sig-name descname">lplot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nl1</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">nl2</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">ninc</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">vtk</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">show_line_numbering</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">show_keypoint_numbering</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">color_lines</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.lplot" title="Permalink to this definition">¶</a></dt>
<dd><p>APDL Command: LPLOT</p>
<p>Displays the selected lines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nl2</strong><strong>, </strong><strong>ninc</strong> (<em>nl1</em><em>,</em>) – Display lines from NL1 to NL2 (defaults to NL1) in steps
of NINC (defaults to 1).  If NL1 = ALL (default), NL2 and
NINC are ignored and display all selected lines [LSEL].</p></li>
<li><p><strong>vtk</strong> (<em>bool</em><em>, </em><em>optional</em>) – Plot the currently selected lines using <code class="docutils literal notranslate"><span class="pre">pyvista</span></code>.</p></li>
<li><p><strong>show_numbering</strong> (<em>bool</em><em>, </em><em>optional</em>) – Display line and keypoint numbers when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>show_keypoints</strong> (<em>bool</em><em>, </em><em>optional</em>) – Display keypoints associated with current lines.  Only
valid with <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>show_keypoint_numbering</strong> (<em>bool</em><em>, </em><em>optional</em>) – Number keypoints.  Only valid when show_keypoints is True</p></li>
<li><p><strong>**kwargs</strong> – See <code class="docutils literal notranslate"><span class="pre">help(pyvista.plot)</span></code> for more keyword arguments
related to visualizing using <code class="docutils literal notranslate"><span class="pre">vtk</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">lplot</span><span class="p">(</span><span class="n">vtk</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cpos</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Mesh divisions on plotted lines are controlled by the LDIV option of
the /PSYMB command.</p>
<p>This command is valid in any processor.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.mesh">
<em class="property">property </em><code class="sig-name descname">mesh</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Mesh information.</p>
<p class="rubric">Examples</p>
<p>Return an array of the active nodes</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">array([[ 1.,  0.,  0.],</span>
<span class="go">       [ 2.,  0.,  0.],</span>
<span class="go">       [ 3.,  0.,  0.],</span>
<span class="go">       [ 4.,  0.,  0.],</span>
<span class="go">       [ 5.,  0.,  0.],</span>
<span class="go">       [ 6.,  0.,  0.],</span>
<span class="go">       [ 7.,  0.,  0.],</span>
<span class="go">       [ 8.,  0.,  0.],</span>
<span class="go">       [ 9.,  0.,  0.],</span>
<span class="go">       [10.,  0.,  0.]])</span>
</pre></div>
</div>
<p>Return an array of the node numbers of the active nodes</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">nnum</span>
<span class="go">array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10], dtype=int32)</span>
</pre></div>
</div>
<p>Simply query and print the geometry</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mapdl</span><span class="o">.</span><span class="n">mesh</span><span class="p">)</span>
<span class="go">  ANSYS Mapdl Mesh</span>
<span class="go">  Number of Nodes:              321</span>
<span class="go">  Number of Elements:           40</span>
<span class="go">  Number of Element Types:      1</span>
<span class="go">  Number of Node Components:    2</span>
<span class="go">  Number of Element Components: 2</span>
</pre></div>
</div>
<p>Access the geometry as a VTK object</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">grid</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.modal_analysis">
<code class="sig-name descname">modal_analysis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'lanb'</span></em>, <em class="sig-param"><span class="n">nmode</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">freqb</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">freqe</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">cpxmod</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">nrmkey</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">modtype</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">memory_option</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">elcalc</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.modal_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a modal with basic settings analysis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em>) – <p>Mode-extraction method to be used for the modal analysis.
Defaults to lanb (block lanczos).  Must be one of the following:</p>
<ul>
<li><p>LANB : Block Lanczos</p></li>
<li><p>LANPCG : PCG Lanczos</p></li>
<li><p>SNODE : Supernode modal solver</p></li>
<li><p>SUBSP : Subspace algorithm</p></li>
<li><p>UNSYM : Unsymmetric matrix</p></li>
<li><p>DAMP : Damped system</p></li>
<li><p>QRDAMP : Damped system using QR algorithm</p></li>
<li><p>VT : Variational Technology</p></li>
</ul>
</p></li>
<li><p><strong>nmode</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of modes to extract. The value can depend on
the value supplied for Method. NMODE has no default and
must be specified. If Method = LANB, LANPCG, or SNODE, the
number of modes that can be extracted can equal the DOFs
in the model after the application of all boundary
conditions.</p></li>
<li><p><strong>freqb</strong> (<em>float</em><em>, </em><em>optional</em>) – The beginning, or lower end, of the frequency range of
interest.</p></li>
<li><p><strong>freqe</strong> (<em>float</em><em>, </em><em>optional</em>) – The ending, or upper end, of the frequency range of
interest (in Hz). The default for Method = SNODE is
described below. The default for all other methods is to
calculate all modes, regardless of their maximum
frequency.</p></li>
<li><p><strong>cpxmod</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Complex eigenmode key. Valid only when <code class="docutils literal notranslate"><span class="pre">method='QRDAMP'</span></code>
or <code class="docutils literal notranslate"><span class="pre">method='unsym'</span></code></p>
<ul>
<li><p>AUTO : Determine automatically if the eigensolutions are
real or complex and output them accordingly. This is
the default for <code class="docutils literal notranslate"><span class="pre">method='UNSYM'</span></code>.  Not supported for
Method = QRDAMP.</p></li>
<li><p>ON or CPLX : Calculate and output complex eigenmode
shapes.</p></li>
<li><p>OFF or REAL : Do not calculate complex eigenmode
shapes. This is required if a mode-
superposition analysis is intended after the
modal analysis for Method = QRDAMP. This is the
default for this method.</p></li>
</ul>
</p></li>
<li><p><strong>nrmkey</strong> (<em>bool</em><em>, </em><em>optional</em>) – Mode shape normalization key.  When <code class="docutils literal notranslate"><span class="pre">True</span></code> (default),
normalize the mode shapes to the mass matrix.  When False,
Normalize the mode shapes to unity instead of to the mass
matrix.  If a subsequent spectrum or mode-superposition
analysis is planned, the mode shapes should be normalized
to the mass matrix.</p></li>
<li><p><strong>modtype</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Type of modes calculated by the eigensolver. Only
applicable to the unsymmetric eigensolver.</p>
<ul>
<li><p>Blank : Right eigenmodes. This value is the default.</p></li>
<li><p>BOTH : Right and left eigenmodes. The left eigenmodes are
written to Jobname.LMODE.  This option must be
activated if a mode-superposition analysis is intended.</p></li>
</ul>
</p></li>
<li><p><strong>memory_option</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Memory allocation option:</p>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> - Default Memory mode</dt><dd><p>Use the default memory allocation strategy for
the sparse solver. The default strategy attempts
to run in the INCORE memory mode. If there is
not enough available physical memory when the
solver starts to run in the <code class="docutils literal notranslate"><span class="pre">INCORE</span></code> memory
mode, the solver will then attempt to run in the
<code class="docutils literal notranslate"><span class="pre">OUTOFCORE</span></code> memory mode.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">INCORE</span></code> - In-core memory mode</dt><dd><p>Use a memory allocation strategy in the sparse
solver that will attempt to obtain enough memory
to run with the entire factorized matrix in
memory. This option uses the most amount of
memory and should avoid doing any I/O. By
avoiding I/O, this option achieves optimal solver
performance. However, a significant amount of
memory is required to run in this mode, and it is
only recommended on machines with a large amount
of memory. If the allocation for in-core memory
fails, the solver will automatically revert to
out-of-core memory mode.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">OUTOFCORE</span></code> - Out of core memory mode.</dt><dd><p>Use a memory allocation strategy in the sparse
solver that will attempt to allocate only
enough work space to factor each individual
frontal matrix in memory, but will store the
entire factorized matrix on disk. Typically,
this memory mode results in poor performance
due to the potential bottleneck caused by the
I/O to the various files written by the
solver.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>elcalc</strong> (<em>bool</em><em>, </em><em>optional</em>) – Calculate element results, reaction forces, energies, and
the nodal degree of freedom solution.  Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>response</strong> – Output from MAPDL SOLVE command.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Modal analysis using default parameters for the first 6 modes</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">modal_analysis</span><span class="p">(</span><span class="n">nmode</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>For models that involve a non-symmetric element stiffness
matrix, as in the case of a contact element with frictional
contact, the QRDAMP eigensolver (MODOPT, QRDAMP) extracts
modes in the modal subspace formed by the eigenmodes from the
symmetrized eigenproblem. The QRDAMP eigensolver symmetrizes
the element stiffness matrix on the first pass of the
eigensolution, and in the second pass, eigenmodes are
extracted in the modal subspace of the first eigensolution
pass. For such non- symmetric eigenproblems, you should verify
the eigenvalue and eigenmode results using the non-symmetric
matrix eigensolver (MODOPT,UNSYM).</p>
<p>The DAMP and QRDAMP options cannot be followed by a subsequent
spectrum analysis. The UNSYM method supports spectrum analysis
when eigensolutions are real.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.nplot">
<code class="sig-name descname">nplot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">knum</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">vtk</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.nplot" title="Permalink to this definition">¶</a></dt>
<dd><p>APDL Command: NPLOT</p>
<p>Displays nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knum</strong> (<em>bool</em><em>, </em><em>int</em><em>, </em><em>optional</em>) – <p>Node number key:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code> : No node numbers on display (default).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> : Include node numbers on display.</p></li>
</ul>
</p></li>
<li><p><strong>vtk</strong> (<em>bool</em><em>, </em><em>optional</em>) – Plot the currently selected nodes using <code class="docutils literal notranslate"><span class="pre">pyvista</span></code>.
Defaults to current <code class="docutils literal notranslate"><span class="pre">use_vtk</span></code> setting as set on the
initialization of MAPDL.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Plot using VTK while showing labels and changing the background</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">prep7</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">nplot</span><span class="p">(</span><span class="n">knum</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vtk</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span>
<span class="go">                show_bounds=True)</span>
</pre></div>
</div>
<p>Plot without using VTK</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">prep7</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">nplot</span><span class="p">(</span><span class="n">vtk</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Only selected nodes [NSEL] are displayed.  Elements need not
be defined.</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.open_apdl_log">
<code class="sig-name descname">open_apdl_log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'w'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.open_apdl_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Start writing all APDL commands to an ANSYS input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Filename of the log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.open_gui">
<code class="sig-name descname">open_gui</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">include_result</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.open_gui" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves existing database and opens up APDL GUI</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>include_result</strong> (<em>bool</em><em>, </em><em>optional</em>) – Allow the result file to be post processed in the GUI.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.parameters">
<em class="property">property </em><code class="sig-name descname">parameters</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Collection of MAPDL parameters obtainable from the <code class="docutils literal notranslate"><span class="pre">*GET</span></code>
command or <code class="docutils literal notranslate"><span class="pre">GET</span></code> command.</p>
<p class="rubric">Examples</p>
<p>Simply list all parameters except for MAPDL MATH parameters</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">parameters</span>
<span class="go">ARR                              : ARRAY DIM (3, 1, 1)</span>
<span class="go">PARM_FLOAT                       : 20.0</span>
<span class="go">PARM_INT                         : 10.0</span>
<span class="go">PARM_LONG_STR                    : &quot;stringstringstringstringstringst&quot;</span>
<span class="go">PARM_STR                         : &quot;string&quot;</span>
<span class="go">PORT                             : 50052.0</span>
</pre></div>
</div>
<p>Get a parameter</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;PARM_FLOAT&#39;</span><span class="p">]</span>
<span class="go">20.0</span>
</pre></div>
</div>
<p>Get an array parameter</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;ARR&#39;</span><span class="p">]</span>
<span class="go">array([1., 2., 3.])</span>
</pre></div>
</div>
<p>Get the current routine</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">routine</span>
<span class="go">&#39;PREP7&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;SI&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">csys</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.post_processing">
<em class="property">property </em><code class="sig-name descname">post_processing</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.post_processing" title="Permalink to this definition">¶</a></dt>
<dd><p>Post-process an active MAPDL session.</p>
<p class="rubric">Examples</p>
<p>Get the nodal displacement in the X direction for the first
result set.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">disp_x</span> <span class="o">=</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">post_processing</span><span class="o">.</span><span class="n">nodal_displacement</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="go">array([1.07512979e-04, 8.59137773e-05, 5.70690047e-05, ...,</span>
<span class="go">       5.70333124e-05, 8.58600402e-05, 1.07445726e-04])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.read_float_from_inline_function">
<code class="sig-name descname">read_float_from_inline_function</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">function_str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.read_float_from_inline_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a APDL inline function to get a float value from ANSYS.
Take note, that internally an APDL parameter
“__floatparameter__” is created/overwritten.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>function_str</strong> (<em>str</em>) – String containing an inline function as used in APDL.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>value</strong> – Value returned by inline function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inline_function</span> <span class="o">=</span> <span class="s2">&quot;node(</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="n">apdl</span><span class="o">.</span><span class="n">read_float_from_inline_function</span><span class="p">(</span><span class="n">inline_function</span><span class="p">)</span>
<span class="go">75.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.read_float_parameter">
<code class="sig-name descname">read_float_parameter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parameter_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.read_float_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Depreciated in favor of <code class="docutils literal notranslate"><span class="pre">mapdl.parameters[parameter_name]</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.remove_file_handler">
<code class="sig-name descname">remove_file_handler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.remove_file_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the filehander from the log</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.result">
<em class="property">property </em><code class="sig-name descname">result</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary interface to the result file using <code class="docutils literal notranslate"><span class="pre">pyansys.Result</span></code></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">PyANSYS MAPDL Result file object</span>
<span class="go">Units       : User Defined</span>
<span class="go">Version     : 18.2</span>
<span class="go">Cyclic      : False</span>
<span class="go">Result Sets : 1</span>
<span class="go">Nodes       : 3083</span>
<span class="go">Elements    : 977</span>
</pre></div>
</div>
<p>Available Results:
EMS : Miscellaneous summable items (normally includes face pressures)
ENF : Nodal forces
ENS : Nodal stresses
ENG : Element energies and volume
EEL : Nodal elastic strains
ETH : Nodal thermal strains (includes swelling strains)
EUL : Element euler angles
EMN : Miscellaneous nonsummable items
EPT : Nodal temperatures
NSL : Nodal displacements
RF  : Nodal reaction forces</p>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">command</span></em>, <em class="sig-param"><span class="n">write_to_log</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs APDL command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>str</em>) – ANSYS APDL command.</p></li>
<li><p><strong>write_to_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – Overrides APDL log writing.  Default True.  When set to
False, will not write command to log, even if APDL
command logging is enabled.</p></li>
<li><p><strong>kwargs</strong> (<em>Optional keyword arguments</em>) – These keyword arguments are interface specific.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>command_output</strong> – Command output from ANSYS.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;/PREP7&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Equivalent Pythonic method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">prep7</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>When two or more commands need to be run non-interactively
(i.e. <code class="docutils literal notranslate"><span class="pre">*VWRITE</span></code>) use</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ansys</span><span class="o">.</span><span class="n">non_interactive</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ansys</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;*VWRITE,LABEL(1),VALUE(1,1),VALUE(1,2),VALUE(1,3)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ansys</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;(1X,A8,&#39;   &#39;,F10.1,&#39;  &#39;,F10.1,&#39;   &#39;,1F5.3)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.set_log_level">
<code class="sig-name descname">set_log_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">loglevel</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.set_log_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets log level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>loglevel</strong> (<em>str</em><em>, </em><em>int</em>) – Log level.  Must be one of: <code class="docutils literal notranslate"><span class="pre">'DEBUG',</span> <span class="pre">'INFO',</span> <span class="pre">'WARNING',</span> <span class="pre">'ERROR'</span></code>.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Set the log level to debug</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">set_log_level</span><span class="p">(</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the log level to info</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">set_log_level</span><span class="p">(</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the log level to warning</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">set_log_level</span><span class="p">(</span><span class="s1">&#39;WARNING&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the log level to error</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">set_log_level</span><span class="p">(</span><span class="s1">&#39;ERROR&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.version">
<em class="property">property </em><code class="sig-name descname">version</code><a class="headerlink" href="#pyansys.mapdl._MapdlCore.version" title="Permalink to this definition">¶</a></dt>
<dd><p>MAPDL build version</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">version</span>
<span class="go">20.2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyansys.mapdl._MapdlCore.vplot">
<code class="sig-name descname">vplot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nv1</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">nv2</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">ninc</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">degen</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">vtk</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">quality</span><span class="o">=</span><span class="default_value">7</span></em>, <em class="sig-param"><span class="n">show_area_numbering</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_line_numbering</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">color_areas</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_lines</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyansys.mapdl._MapdlCore.vplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the selected volumes.</p>
<p>APDL Command: VPLOT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nv2</strong><strong>, </strong><strong>ninc</strong> (<em>nv1</em><em>,</em>) – Display volumes from NV1 to NV2 (defaults to NV1) in steps
of NINC (defaults to 1).  If NV1 = ALL (default), NV2 and
NINC are ignored and all selected volumes [VSEL] are
displayed.  Ignored when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>degen</strong> – Degeneracy marker.  <code class="docutils literal notranslate"><span class="pre">&quot;blank&quot;</span></code> No degeneracy marker is
used (default), or <code class="docutils literal notranslate"><span class="pre">&quot;DEGE&quot;</span></code>.  A red star is placed on
keypoints at degeneracies (see the Modeling and Meshing
Guide).  Not available if /FACET,WIRE is set.  Ignored
when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>scale</strong> – Scale factor for the size of the degeneracy-marker star.  The scale
is the size in window space (-1 to 1 in both directions) (defaults
to .075).  Ignored when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>vtk</strong> (<em>bool</em><em>, </em><em>optional</em>) – Plot the currently selected volumes using <code class="docutils literal notranslate"><span class="pre">pyvista</span></code>.  As
this creates a temporary surface mesh, this may have a
long execution time for large meshes.</p></li>
<li><p><strong>quality</strong> (<em>int</em><em>, </em><em>optional</em>) – quality of the mesh to display.  Varies between 1 (worst)
to 10 (best).  Applicable when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
<li><p><strong>show_numbering</strong> (<em>bool</em><em>, </em><em>optional</em>) – Display line and keypoint numbers when <code class="docutils literal notranslate"><span class="pre">vtk=True</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Plot while displaying area numbers</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span><span class="o">.</span><span class="n">vplot</span><span class="p">(</span><span class="n">show_area_numbering</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="conversion.html" class="btn btn-neutral float-right" title="Translating Scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="parameters.html" class="btn btn-neutral float-left" title="Setting and Retreiving Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Alex Kaszynski

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>